<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">


  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link href="/lib/pace/pace-theme-minimal.min.css?v=1.0.2" rel="stylesheet">







<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="http://p94fw3huv.bkt.clouddn.com/static/images/favicon-48-48.ico?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="http://p94fw3huv.bkt.clouddn.com/static/images/favicon-32-32.ico?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="http://p94fw3huv.bkt.clouddn.com/static/images/favicon-16-16.ico?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="leetcode,dynamic programming,hard,greedy," />










<meta name="description" content="24.5%  https://leetcode.com/problems/create-maximum-number/ Given two arrays of length m and n with digits 0-9 representing two numbers. Create the maximum number of length k &amp;lt;= m + n from digits">
<meta name="keywords" content="leetcode,dynamic programming,hard,greedy">
<meta property="og:type" content="article">
<meta property="og:title" content="321. Create Maximum Number">
<meta property="og:url" content="http://blog.yucc.me/p/7a865502/index.html">
<meta property="og:site_name" content="Chen-Chen Yu">
<meta property="og:description" content="24.5%  https://leetcode.com/problems/create-maximum-number/ Given two arrays of length m and n with digits 0-9 representing two numbers. Create the maximum number of length k &amp;lt;= m + n from digits">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2018-05-23T11:33:13.103Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="321. Create Maximum Number">
<meta name="twitter:description" content="24.5%  https://leetcode.com/problems/create-maximum-number/ Given two arrays of length m and n with digits 0-9 representing two numbers. Create the maximum number of length k &amp;lt;= m + n from digits">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":true},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://blog.yucc.me/p/7a865502/"/>





  <title>321. Create Maximum Number | Chen-Chen Yu</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Chen-Chen Yu</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description"></h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="搜索..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://blog.yucc.me/p/7a865502/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chen-Chen Yu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://p94fw3huv.bkt.clouddn.com/static/images/yucc.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Chen-Chen Yu">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">321. Create Maximum Number</h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-05-23T13:05:53+08:00">
                2018-05-23 13:05
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于&#58;</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2018-05-23T19:33:13+08:00">
                2018-05-23 19:33
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/leetcode/" itemprop="url" rel="index">
                    <span itemprop="name">leetcode</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          
            <span class="post-meta-divider">|</span>
            <span class="page-pv">本文总阅读量
            <span class="busuanzi-value" id="busuanzi_value_page_pv" ></span>次
            </span>
          

          
            <div class="post-wordcount">
              
                
                  <span class="post-meta-divider">|</span>
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  3,666
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  23
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <ul>
<li>24.5%</li>
</ul>
<p><a href="https://leetcode.com/problems/create-maximum-number/" target="_blank" rel="noopener">https://leetcode.com/problems/create-maximum-number/</a></p>
<p>Given two arrays of length m and n with digits 0-9 representing two numbers. Create the maximum number of length k &lt;= m + n from digits of the two. The relative order of the digits from the same array must be preserved. Return an array of the k digits. You should try to optimize your time and space complexity.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Example 1:</span><br><span class="line">nums1 = [3, 4, 6, 5]</span><br><span class="line">nums2 = [9, 1, 2, 5, 8, 3]</span><br><span class="line">k = 5</span><br><span class="line">return [9, 8, 6, 5, 3]</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Example 2:</span><br><span class="line">nums1 = [6, 7]</span><br><span class="line">nums2 = [6, 0, 4]</span><br><span class="line">k = 5</span><br><span class="line">return [6, 7, 6, 0, 4]</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Example 3:</span><br><span class="line">nums1 = [3, 9]</span><br><span class="line">nums2 = [8, 9]</span><br><span class="line">k = 3</span><br><span class="line">return [9, 8, 9]</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<hr>
<h4 id="cpp"><a href="#cpp" class="headerlink" title="cpp"></a>cpp</h4><hr>
<p><a href="https://discuss.leetcode.com/topic/36805/c-16ms-fastest-beats-97" target="_blank" rel="noopener">https://discuss.leetcode.com/topic/36805/c-16ms-fastest-beats-97</a></p>
<p>C++ 16ms, FASTEST, beats 97%.</p>
<p>The basic idea:</p>
<p>To create max number of length k from two arrays, you need to create max number of length i from array one and max number of length k-i from array two, then combine them together. After trying all possible i, you will get the max number created from two arrays.</p>
<p>Optimization:</p>
<ol>
<li><p>Suppose nums1 = [3, 4, 6, 5], nums2 = [9, 1, 2, 5, 8, 3], the maximum number you can create from nums1 is [6, 5] with length 2. For nums2, it’s [9, 8, 3] with length 3. Merging the two sequence, we have [9, 8, 6, 5, 3], which is the max number we can create from two arrays without length constraint. If the required length k&lt;=5, we can simply trim the result to required length from front. For instance, if k=3, then [9, 8, 6] is the result.</p>
</li>
<li><p>Suppose we need to create max number with length 2 from num = [4, 5, 3, 2, 1, 6, 0, 8]. The simple way is to use a stack, first we push 4 and have stack [4], then comes 5 &gt; 4, we pop 4 and push 5, stack becomes [5], 3 &lt; 5, we push 3, stack becomes [5, 3]. Now we have the required length 2, but we need to keep going through the array in case a larger number comes, 2 &lt; 3, we discard it instead of pushing it because the stack already grows to required size 2. 1 &lt; 3, we discard it. 6 &gt; 3, we pop 3, since 6 &gt; 5 and there are still elements left, we can continue to pop 5 and push 6, the stack becomes [6], since 0 &lt; 6, we push 0, the stack becomes [6, 0], the stack grows to required length again. Since 8 &gt; 0, we pop 0, although 8 &gt; 6, we can’t continue to pop 6 since there is only one number, which is 8, left, if we pop 6 and push 8, we can’t get to length 2, so we push 8 directly, the stack becomes [6, 8].</p>
</li>
<li><p>In the basic idea, we mentioned trying all possible length i. If we create max number for different i from scratch each time, that would be a waste of time. Suppose num = [4, 9, 3, 2, 1, 8, 7, 6], we need to create max number with length from 1 to 8. For i == 8, result is the original array. For i == 7, we need to drop 1 number from array, since 9 &gt; 4, we drop 4, the result is [9, 3, 2, 1, 8, 7, 6]. For i == 6, we need to drop 1 more number, 3 &lt; 9, skip, 2 &lt; 3, skip, 1 &lt; 2, skip, 8 &gt; 1, we drop 1, the result is [9, 3, 2, 8, 7, 6]. For i == 5, we need to drop 1 more, but this time, we needn’t check from beginning, during last scan, we already know [9, 3, 2] is monotonically non-increasing, so we check 8 directly, since 8 &gt; 2, we drop 2, the result is [9, 3, 8, 7, 6]. For i == 4, we start with 8, 8 &gt; 3, we drop 3, the result is [9, 8, 7, 6]. For i == 3, we start with 8, 8 &lt; 9, skip, 7 &lt; 8, skip, 6 &lt; 7, skip, by now, we’ve got maximum number we can create from num without length constraint. So from now on, we can drop a number from the end each time. The result is [9, 8, 7], For i == 2, we drop last number 7 and have [9, 8]. For i == 1, we drop last number 8 and have [9].</p>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">public:</span><br><span class="line">    #define MIN(a,b) (a&lt;b?a:b)</span><br><span class="line">    #define MAX(a,b) (a&gt;b?a:b)</span><br><span class="line">    // create max number of length t from single non-empty vector</span><br><span class="line">    void getMax(int* num, int&amp; len, int* result, int&amp; t, int&amp; sortedLen)</span><br><span class="line">    &#123;</span><br><span class="line">    	int n, top = 0;</span><br><span class="line">    	result[0] = num[0];</span><br><span class="line">    	const int need2drop = len - t;</span><br><span class="line">    	for (int i = 1; i &lt; len; ++i)&#123;</span><br><span class="line">    		n = num[i];</span><br><span class="line">    		while (top &gt;= 0 &amp;&amp; result[top] &lt; n &amp;&amp; (i - top) &lt;= need2drop) --top; // i - top means already dropped i - top numbers</span><br><span class="line">    		if (i - top &gt; need2drop)&#123;</span><br><span class="line">    			sortedLen = MAX(1,top);</span><br><span class="line">    			while (++top &lt; t) result[top] = num[i++];</span><br><span class="line">    			return;</span><br><span class="line">    		&#125;</span><br><span class="line">    		if (++top &lt; t) result[top] = n;</span><br><span class="line">    		else top = t - 1;</span><br><span class="line">    	&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    // create max number of different length from single vector</span><br><span class="line">    void dp(int *num, int len, int&amp;sortedLen, int&amp; minL, int&amp; maxL, int *res, int &amp;k)&#123;</span><br><span class="line">    	int  j, *head, *prevhead = res;</span><br><span class="line">    	const int soi = sizeof(int);</span><br><span class="line">    	getMax(num, len, res, maxL,sortedLen);</span><br><span class="line">    	for (int l = maxL; l &gt; MAX(minL,1); --l)&#123;</span><br><span class="line">    		head = prevhead + k;</span><br><span class="line">    		memcpy(head, prevhead, l*soi);</span><br><span class="line">    		for (j = sortedLen; j &lt; l; ++j)&#123;</span><br><span class="line">    			if (head[j] &gt; head[j - 1])&#123;</span><br><span class="line">    				sortedLen = MAX(1, j - 1);</span><br><span class="line">    				memcpy(head + j - 1, prevhead + j, soi*(l - j));</span><br><span class="line">    				break;</span><br><span class="line">    			&#125;</span><br><span class="line">    		&#125;</span><br><span class="line">    		if (j == l) sortedLen = l;</span><br><span class="line">    		prevhead = head;</span><br><span class="line">    	&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    // merge max number created from single vector</span><br><span class="line">    void merge(int* num1,int len1,int* num2,int len2,int* result,int&amp; resSize)&#123;</span><br><span class="line">    	int i = 0, j = 0, k = 0;</span><br><span class="line">    	while (i &lt; resSize)&#123;</span><br><span class="line">    		if (j &lt; len1 &amp;&amp; k &lt; len2)&#123;</span><br><span class="line">    			if (num1[j] &gt; num2[k])</span><br><span class="line">    				result[i++] = num1[j++];</span><br><span class="line">    			else if (num1[j] &lt; num2[k])</span><br><span class="line">    				result[i++] = num2[k++];</span><br><span class="line">    			else&#123;</span><br><span class="line">    				int remaining1 = len1 - j, remaining2 = len2 - k, tmp = num1[j];</span><br><span class="line">    				int flag = memcmp(num1 + j, num2 + k, sizeof(int) * MIN(remaining1, remaining2));</span><br><span class="line">    				flag = (flag == 0 ? (remaining1&gt;remaining2 ? 1 : -1) : flag);</span><br><span class="line">    				int * num = flag &gt; 0 ? num1 : num2;</span><br><span class="line">    				int &amp; cnt = flag &gt; 0 ? j : k;</span><br><span class="line">    				int len = flag &gt; 0 ? len1 : len2;</span><br><span class="line">    				while (num[cnt]==tmp &amp;&amp; cnt &lt; len &amp;&amp; i&lt;resSize) result[i++] = num[cnt++];</span><br><span class="line">    			&#125;</span><br><span class="line">    		&#125;</span><br><span class="line">    		else if (j &lt; len1) result[i++] = num1[j++];</span><br><span class="line">    		else result[i++] = num2[k++];</span><br><span class="line">    	&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    vector&lt;int&gt; maxNumber(vector&lt;int&gt;&amp; nums1, vector&lt;int&gt;&amp; nums2, int k)&#123;</span><br><span class="line">    	int soi = sizeof(int), len1 = nums1.size(), len2 = nums2.size(), step = k*soi;</span><br><span class="line">    	int minL1 = MAX(0, k - len2), maxL1 = MIN(k, len1), minL2 = k - maxL1, maxL2 = k - minL1, range = maxL1 - minL1 + 1;</span><br><span class="line">    	int * res = new int[range * k * 2 + 2 * k], *dp1 = res + k, *dp2 = res + range*k+k, *tmp=res+range*2*k+k;</span><br><span class="line">    	memset(res, 0, step);</span><br><span class="line">    	int sortedLen1 = 1, sortedLen2 = 1;</span><br><span class="line">    	if (len1 == 0 &amp;&amp; len2 &gt; 0) getMax(&amp;nums2[0], len2, res, k, sortedLen2);</span><br><span class="line">    	else if (len1 &gt; 0 &amp;&amp; len2 == 0) getMax(&amp;nums1[0], len1, res, k, sortedLen2);</span><br><span class="line">    	else if (len1 &gt; 0 &amp;&amp; len2 &gt; 0)&#123;</span><br><span class="line">    		dp(&amp;nums1[0], len1, sortedLen1, minL1, maxL1, dp1,k);</span><br><span class="line">    		dp(&amp;nums2[0], len2, sortedLen2, minL2, maxL2, dp2,k);</span><br><span class="line">    		if (sortedLen1 + sortedLen2 &gt; k)&#123;</span><br><span class="line">    			merge(dp1 + k*(maxL1 - sortedLen1), sortedLen1, dp2 + k*(maxL2 - sortedLen2), sortedLen2, tmp, k);</span><br><span class="line">    			vector&lt;int&gt; resv(tmp, tmp + k);</span><br><span class="line">    			delete[] res;</span><br><span class="line">    			return resv;</span><br><span class="line">    		&#125;</span><br><span class="line">    		for (int i = minL1; i &lt;= maxL1; ++i)&#123;</span><br><span class="line">    			merge(dp1+k*(maxL1-i), i, dp2+k*(maxL2-k+i), (k-i), tmp,k);</span><br><span class="line">    			if (memcmp(res, tmp, step) &lt; 0) memcpy(res, tmp, step);</span><br><span class="line">    		&#125;</span><br><span class="line">    	&#125;</span><br><span class="line">    	vector&lt;int&gt; resv(res, res + k);</span><br><span class="line">    	delete[] res;</span><br><span class="line">    	return resv;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<hr>
<p><a href="https://discuss.leetcode.com/topic/32298/short-python-ruby-c" target="_blank" rel="noopener">https://discuss.leetcode.com/topic/32298/short-python-ruby-c</a></p>
<p>Translated it to C++ as well now. Not as short anymore, but still decent. And C++ allows different functions with the same name, so I chose to do that here to show how nicely the maxNumber(nums1, nums2, k) problem can be based on the problems maxNumber(nums, k) and maxNumber(nums1, nums2), which would make fine problems on their own.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;int&gt; maxNumber(vector&lt;int&gt;&amp; nums1, vector&lt;int&gt;&amp; nums2, int k) &#123;</span><br><span class="line">    int n1 = nums1.size(), n2 = nums2.size();</span><br><span class="line">    vector&lt;int&gt; best;</span><br><span class="line">    for (int k1=max(k-n2, 0); k1&lt;=min(k, n1); ++k1)</span><br><span class="line">        best = max(best, maxNumber(maxNumber(nums1, k1),</span><br><span class="line">                                   maxNumber(nums2, k-k1)));</span><br><span class="line">    return best;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">vector&lt;int&gt; maxNumber(vector&lt;int&gt; nums, int k) &#123;</span><br><span class="line">    int drop = nums.size() - k;</span><br><span class="line">    vector&lt;int&gt; out;</span><br><span class="line">    for (int num : nums) &#123;</span><br><span class="line">        while (drop &amp;&amp; out.size() &amp;&amp; out.back() &lt; num) &#123;</span><br><span class="line">            out.pop_back();</span><br><span class="line">            drop--;</span><br><span class="line">        &#125;</span><br><span class="line">        out.push_back(num);</span><br><span class="line">    &#125;</span><br><span class="line">    out.resize(k);</span><br><span class="line">    return out;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">vector&lt;int&gt; maxNumber(vector&lt;int&gt; nums1, vector&lt;int&gt; nums2) &#123;</span><br><span class="line">    vector&lt;int&gt; out;</span><br><span class="line">    while (nums1.size() + nums2.size()) &#123;</span><br><span class="line">        vector&lt;int&gt;&amp; now = nums1 &gt; nums2 ? nums1 : nums2;</span><br><span class="line">        out.push_back(now[0]);</span><br><span class="line">        now.erase(now.begin());</span><br><span class="line">    &#125;</span><br><span class="line">    return out;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>An alternative for maxNumber(nums1, nums2):</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;int&gt; maxNumber(vector&lt;int&gt; nums1, vector&lt;int&gt; nums2) &#123;</span><br><span class="line">    vector&lt;int&gt; out;</span><br><span class="line">    auto i1 = nums1.begin(), end1 = nums1.end();</span><br><span class="line">    auto i2 = nums2.begin(), end2 = nums2.end();</span><br><span class="line">    while (i1 != end1 || i2 != end2)</span><br><span class="line">        out.push_back(lexicographical_compare(i1, end1, i2, end2) ? *i2++ : *i1++);</span><br><span class="line">    return out;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="python"><a href="#python" class="headerlink" title="python"></a>python</h4><hr>
<p><a href="https://discuss.leetcode.com/topic/32298/short-python-ruby-c" target="_blank" rel="noopener">https://discuss.leetcode.com/topic/32298/short-python-ruby-c</a></p>
<p>Short Python / Ruby / C++</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">def maxNumber(self, nums1, nums2, k):</span><br><span class="line"></span><br><span class="line">    def prep(nums, k):</span><br><span class="line">        drop = len(nums) - k</span><br><span class="line">        out = []</span><br><span class="line">        for num in nums:</span><br><span class="line">            while drop and out and out[-1] &lt; num:</span><br><span class="line">                out.pop()</span><br><span class="line">                drop -= 1</span><br><span class="line">            out.append(num)</span><br><span class="line">        return out[:k]</span><br><span class="line"></span><br><span class="line">    def merge(a, b):</span><br><span class="line">        return [max(a, b).pop(0) for _ in a+b]</span><br><span class="line"></span><br><span class="line">    return max(merge(prep(nums1, i), prep(nums2, k-i))</span><br><span class="line">               for i in range(k+1)</span><br><span class="line">               if i &lt;= len(nums1) and k-i &lt;= len(nums2))</span><br></pre></td></tr></table></figure>
<p>Solved it on my own but now I see others already posted this idea. Oh well, at least it’s short, particularly my merge function.</p>
<p>The last two lines can be combined, but I find it rather ugly and not worth it:<br>for i in range(max(k-len(nums2), 0), min(k, len(nums1))+1))</p>
<hr>
<p><a href="https://discuss.leetcode.com/topic/32281/share-my-python-solution-with-explanation" target="_blank" rel="noopener">https://discuss.leetcode.com/topic/32281/share-my-python-solution-with-explanation</a></p>
<p>Share my Python solution with explanation</p>
<p>To create the max number from num1 and nums2 with k elements, we assume the final result combined by i numbers (denotes as left) from num1 and j numbers (denotes as right) from nums2, where i+j==k.</p>
<p>Obviously, left and right must be the maximum possible number in num1 and num2 respectively. i.e. num1 = [6,5,7,1] and i == 2, then left must be [7,1].</p>
<p>The final result is the maximum possible merge of all left and right.</p>
<p>So there’re 3 steps:</p>
<ol>
<li>iterate i from 0 to k.</li>
<li>find max number from num1, num2 by select i , k-i numbers, denotes as left, right</li>
<li>find max merge of left, right</li>
</ol>
<p>function maxSingleNumber select i elements from num1 that is maximum. The idea find the max number one by one. i.e. assume nums [6,5,7,1,4,2], selects = 3.</p>
<p>1st digit: find max digit in [6,5,7,1], the last two digits [4, 2] can not be selected at this moment.</p>
<p>2nd digits: find max digit in [1,4], since we have already selects 7, we should consider elements after it, also, we should leave one element out.</p>
<p>3rd digits: only one left [2], we select it. and function output [7,4,2]</p>
<p>function mergeMax find the maximum combination of left, and right.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">class Solution(object):</span><br><span class="line">def maxNumber(self, nums1, nums2, k):</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    :type nums1: List[int]</span><br><span class="line">    :type nums2: List[int]</span><br><span class="line">    :type k: int</span><br><span class="line">    :rtype: List[int]</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    n, m= len(nums1),len(nums2)</span><br><span class="line">    ret = [0] * k</span><br><span class="line">    for i in range(0, k+1):</span><br><span class="line">        j = k - i</span><br><span class="line">        if i &gt; n or j &gt; m: continue</span><br><span class="line">        left = self.maxSingleNumber(nums1, i)</span><br><span class="line">        right = self.maxSingleNumber(nums2, j)</span><br><span class="line">        num = self.mergeMax(left, right)</span><br><span class="line">        ret = max(num, ret)</span><br><span class="line">    return ret</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def mergeMax(self, nums1, nums2):</span><br><span class="line">    ans = []</span><br><span class="line">    while nums1 or nums2:</span><br><span class="line">        if nums1 &gt; nums2:</span><br><span class="line">            ans += nums1[0],</span><br><span class="line">            nums1 = nums1[1:]</span><br><span class="line">        else:</span><br><span class="line">            ans += nums2[0],</span><br><span class="line">            nums2 = nums2[1:]</span><br><span class="line">    return ans</span><br><span class="line"></span><br><span class="line">def maxSingleNumber(self, nums, selects):</span><br><span class="line">    n = len(nums)</span><br><span class="line">    ret = [-1]</span><br><span class="line">    if selects &gt; n : return ret</span><br><span class="line">    while selects &gt; 0:</span><br><span class="line">        start = ret[-1] + 1 #search start</span><br><span class="line">        end = n-selects + 1 #search end</span><br><span class="line">        ret.append( max(range(start, end), key = nums.__getitem__))</span><br><span class="line">        selects -= 1</span><br><span class="line">    ret = [nums[item] for item in ret[1:]]</span><br><span class="line">    return ret</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="java"><a href="#java" class="headerlink" title="java"></a>java</h4><hr>
<p><a href="https://discuss.leetcode.com/topic/32272/share-my-greedy-solution" target="_blank" rel="noopener">https://discuss.leetcode.com/topic/32272/share-my-greedy-solution</a></p>
<p>Share my greedy solution</p>
<p>Many of the posts have the same algorithm. In short we can first solve 2 simpler problem</p>
<ol>
<li>Create the maximum number of one array</li>
<li>Create the maximum number of two array using all of their digits.</li>
</ol>
<p>For an long and detailed explanation see my blog here.</p>
<p>The algorithm is O((m+n)^3) in the worst case. It runs in 22 ms.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">public int[] maxNumber(int[] nums1, int[] nums2, int k) &#123;</span><br><span class="line">    int n = nums1.length;</span><br><span class="line">    int m = nums2.length;</span><br><span class="line">    int[] ans = new int[k];</span><br><span class="line">    for (int i = Math.max(0, k - m); i &lt;= k &amp;&amp; i &lt;= n; ++i) &#123;</span><br><span class="line">        int[] candidate = merge(maxArray(nums1, i), maxArray(nums2, k - i), k);</span><br><span class="line">        if (greater(candidate, 0, ans, 0)) ans = candidate;</span><br><span class="line">    &#125;</span><br><span class="line">    return ans;</span><br><span class="line">&#125;</span><br><span class="line">private int[] merge(int[] nums1, int[] nums2, int k) &#123;</span><br><span class="line">    int[] ans = new int[k];</span><br><span class="line">    for (int i = 0, j = 0, r = 0; r &lt; k; ++r)</span><br><span class="line">        ans[r] = greater(nums1, i, nums2, j) ? nums1[i++] : nums2[j++];</span><br><span class="line">    return ans;</span><br><span class="line">&#125;</span><br><span class="line">public boolean greater(int[] nums1, int i, int[] nums2, int j) &#123;</span><br><span class="line">    while (i &lt; nums1.length &amp;&amp; j &lt; nums2.length &amp;&amp; nums1[i] == nums2[j]) &#123;</span><br><span class="line">        i++;</span><br><span class="line">        j++;</span><br><span class="line">    &#125;</span><br><span class="line">    return j == nums2.length || (i &lt; nums1.length &amp;&amp; nums1[i] &gt; nums2[j]);</span><br><span class="line">&#125;</span><br><span class="line">public int[] maxArray(int[] nums, int k) &#123;</span><br><span class="line">    int n = nums.length;</span><br><span class="line">    int[] ans = new int[k];</span><br><span class="line">    for (int i = 0, j = 0; i &lt; n; ++i) &#123;</span><br><span class="line">        while (n - i + j &gt; k &amp;&amp; j &gt; 0 &amp;&amp; ans[j - 1] &lt; nums[i]) j--;</span><br><span class="line">        if (j &lt; k) ans[j++] = nums[i];</span><br><span class="line">    &#125;</span><br><span class="line">    return ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<p><a href="http://52.20.106.37/create-maximum-number/" target="_blank" rel="noopener">http://52.20.106.37/create-maximum-number/</a></p>
<p>Create Maximum Number</p>
<p>Solution<br>To solve this problem, first let’s look at simpler version:</p>
<p>Easy Version No. 1</p>
<p>Given one array of length n, create the maximum number of length k.</p>
<p>The solution to this problem is Greedy with the help of stack. The recipe is as following</p>
<ul>
<li>Initialize a empty stack</li>
<li>Loop through the array nums<ul>
<li>pop the top of stack if it is smaller than nums[i] until<ol>
<li>stack is empty</li>
<li>the digits left is not enough to fill the stack to size k</li>
</ol>
</li>
<li>if stack size &lt; k push nums[i]</li>
</ul>
</li>
<li>Return stack</li>
</ul>
<p>Since the stack length is known to be k, it is very easy to use an array to simulate the stack.<br>The time complexity is O(n) since each element is at most been pushed and popped once.</p>
<p>Java</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">public int[] maxArray(int[] nums, int k) &#123;</span><br><span class="line">    int n = nums.length;</span><br><span class="line">    int[] ans = new int[k];</span><br><span class="line">    for (int i = 0, j = 0; i &lt; n; ++i) &#123;</span><br><span class="line">        while (n - i + j &gt; k &amp;&amp; j &gt; 0 &amp;&amp; ans[j - 1] &lt; nums[i]) j--;</span><br><span class="line">        if (j &lt; k) ans[j++] = nums[i];</span><br><span class="line">    &#125;</span><br><span class="line">    return ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Easy Version No. 2</p>
<p>Given two array of length m and n, create maximum number of length k = m + n.</p>
<p>OK, this version is a lot closer to our original problem with the exception that we will use all the digits we have.</p>
<p>Still, for this version, Greedy is the first thing come to mind. We have k decisions to make, each time will just need to decide ans[i] is from which of the two. It seems obvious, we should always choose the larger one right? This is correct, but the problem is what should we do if they are equal?</p>
<p>This is not so obvious. The correct answer is we need to see what behind the two to decide. For example,</p>
<p>nums1 = [6, 7]<br>nums2 = [6, 0, 4]<br>k = 5<br>ans = [6, 7, 6, 0, 4]</p>
<p>We decide to choose the 6 from nums1 at step 1, because 7 &gt; 0. What if they are equal again? We continue to look the next digit until they are not equal. If all digits are equal then choose any one is ok. The procedure is like the merge in a merge sort. However due to the “look next until not equal”, the time complexity is O(nm).</p>
<p>As @lixx2100 mentioned that it is possible to have a linear time merge algorithm based on suffix array. See here and here. But there isn’t a short implementation for suffix array construction in linear time.</p>
<p>Java</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">private int[] merge(int[] nums1, int[] nums2, int k) &#123;</span><br><span class="line">    int[] ans = new int[k];</span><br><span class="line">    for (int i = 0, j = 0, r = 0; r &lt; k; ++r)</span><br><span class="line">        ans[r] = greater(nums1, i, nums2, j) ? nums1[i++] : nums2[j++];</span><br><span class="line">    return ans;</span><br><span class="line">&#125;</span><br><span class="line">public boolean greater(int[] nums1, int i, int[] nums2, int j) &#123;</span><br><span class="line">    while (i &lt; nums1.length &amp;&amp; j &lt; nums2.length &amp;&amp; nums1[i] == nums2[j]) &#123;</span><br><span class="line">        i++;</span><br><span class="line">        j++;</span><br><span class="line">    &#125;</span><br><span class="line">    return j == nums2.length || (i &lt; nums1.length &amp;&amp; nums1[i] &gt; nums2[j]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Final Solution</p>
<p>Now let’s go back to the real problem. First, we divide the k digits required into two parts, i and k-i. We then find the maximum number of length i in one array and the maximum number of length k-i in the other array using the algorithm in section 1. Now we combine the two results in to one array using the algorithm in section 2. After that we compare the result with the result we have and keep the larger one as final answer.</p>
<p>Java</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">public int[] maxNumber(int[] nums1, int[] nums2, int k) &#123;</span><br><span class="line">    int n = nums1.length;</span><br><span class="line">    int m = nums2.length;</span><br><span class="line">    int[] ans = new int[k];        </span><br><span class="line">    for (int i = Math.max(0, k - m); i &lt;= k &amp;&amp; i &lt;= n; ++i) &#123;</span><br><span class="line">        int[] candidate = merge(maxArray(nums1, i), maxArray(nums2, k - i), k);</span><br><span class="line">        if (greater(candidate, 0, ans, 0)) ans = candidate;</span><br><span class="line">    &#125;</span><br><span class="line">    return ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<p><a href="https://discuss.leetcode.com/topic/32230/share-my-21ms-java-solution-with-comments" target="_blank" rel="noopener">https://discuss.leetcode.com/topic/32230/share-my-21ms-java-solution-with-comments</a></p>
<p>Share my 21ms java solution with comments</p>
<p>To find the maximum ,we can enumerate how digits we should get from nums1 , we suppose it is i.</p>
<p>So , the digits from nums2 is K - i.</p>
<p>And we can use a stack to get the get maximum number(x digits) from one array.</p>
<p>OK, Once we choose two maximum subarray , we should combine it to the answer.</p>
<p>It is just like merger sort, but we should pay attention to the case: the two digital are equal.</p>
<p>we should find the digits behind it to judge which digital we should choose now.</p>
<p>In other words,we should judge which subarry is bigger than the other.</p>
<p>That’s all.</p>
<p>If you have any question or suggest, I am happy you can comment on my blog : Create Maximum Number.</p>
<p>Thanks, merry christmas :)</p>
<p>update:use stack to find max sub array and it runs 21ms now.( thanks to @dietpepsi )</p>
<p> /<em>*  </em> Created by hrwhisper on 2015/11/23.  <em> <a href="http://www.hrwhisper.me/leetcode-create-maximum-number/" target="_blank" rel="noopener">http://www.hrwhisper.me/leetcode-create-maximum-number/</a>  </em>/</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">public class Solution &#123;</span><br><span class="line">    public int[] maxNumber(int[] nums1, int[] nums2, int k) &#123;</span><br><span class="line">        int get_from_nums1 = Math.min(nums1.length, k);</span><br><span class="line">        int[] ans = new int[k];</span><br><span class="line">        for (int i = Math.max(k - nums2.length, 0); i &lt;= get_from_nums1; i++) &#123;</span><br><span class="line">            int[] res1 = new int[i];</span><br><span class="line">            int[] res2 = new int[k - i];</span><br><span class="line">            int[] res = new int[k];</span><br><span class="line">            res1 = solve(nums1, i);</span><br><span class="line">            res2 = solve(nums2, k - i);</span><br><span class="line">            int pos1 = 0, pos2 = 0, tpos = 0;</span><br><span class="line">            </span><br><span class="line">            while (res1.length &gt; 0 &amp;&amp; res2.length &gt; 0 &amp;&amp; pos1 &lt; res1.length &amp;&amp; pos2 &lt; res2.length) &#123;</span><br><span class="line">                if (compare(res1, pos1, res2, pos2))</span><br><span class="line">                    res[tpos++] = res1[pos1++];</span><br><span class="line">                else</span><br><span class="line">                    res[tpos++] = res2[pos2++];</span><br><span class="line">            &#125;</span><br><span class="line">            while (pos1 &lt; res1.length)</span><br><span class="line">                res[tpos++] = res1[pos1++];</span><br><span class="line">            while (pos2 &lt; res2.length)</span><br><span class="line">                res[tpos++] = res2[pos2++];</span><br><span class="line"></span><br><span class="line">            if (!compare(ans, 0, res, 0))</span><br><span class="line">                ans = res;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        return ans;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public boolean compare(int[] nums1, int start1, int[] nums2, int start2) &#123;</span><br><span class="line">        for (; start1 &lt; nums1.length &amp;&amp; start2 &lt; nums2.length; start1++, start2++) &#123;</span><br><span class="line">            if (nums1[start1] &gt; nums2[start2]) return true;</span><br><span class="line">            if (nums1[start1] &lt; nums2[start2]) return false;</span><br><span class="line">        &#125;</span><br><span class="line">        return start1 != nums1.length;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public int[] solve(int[] nums, int k) &#123;</span><br><span class="line">        int[] res = new int[k];</span><br><span class="line">        int len = 0;</span><br><span class="line">        for (int i = 0; i &lt; nums.length; i++) &#123;</span><br><span class="line">            while (len &gt; 0 &amp;&amp; len + nums.length - i &gt; k &amp;&amp; res[len - 1] &lt; nums[i]) &#123;</span><br><span class="line">                len--;</span><br><span class="line">            &#125;</span><br><span class="line">            if (len &lt; k)</span><br><span class="line">                res[len++] = nums[i];</span><br><span class="line">        &#125;</span><br><span class="line">        return res;</span><br><span class="line">    &#125; &#125;</span><br></pre></td></tr></table></figure>

      
    </div>
    
    
    

    

    
      <div>
        <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
  <div>谢谢你！</div>
  <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
    <span>赞赏</span>
  </button>
  <div id="QR" style="display: none;">

    
      <div id="wechat" style="display: inline-block">
        <img id="wechat_qr" src="http://p94fw3huv.bkt.clouddn.com/static/images/wechatpay.jpg" alt="Chen-Chen Yu 微信支付"/>
        <p>微信支付</p>
      </div>
    

    
      <div id="alipay" style="display: inline-block">
        <img id="alipay_qr" src="http://p94fw3huv.bkt.clouddn.com/static/images/alipay.jpg" alt="Chen-Chen Yu 支付宝"/>
        <p>支付宝</p>
      </div>
    

    

  </div>
</div>

      </div>
    

    
      <div>
        <ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者：</strong>
    Marco Yu
  </li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="http://blog.yucc.me/p/7a865502/" title="321. Create Maximum Number">http://blog.yucc.me/p/7a865502/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>
    本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/" rel="external nofollow" target="_blank">CC BY-NC-SA 3.0</a> 许可协议。转载请注明出处！
  </li>
</ul>

      </div>
    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/leetcode/" rel="tag"># leetcode</a>
          
            <a href="/tags/dynamic-programming/" rel="tag"># dynamic programming</a>
          
            <a href="/tags/hard/" rel="tag"># hard</a>
          
            <a href="/tags/greedy/" rel="tag"># greedy</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/p/b0914c42/" rel="next" title="319. Bulb Switcher">
                <i class="fa fa-chevron-left"></i> 319. Bulb Switcher
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/p/283870ec/" rel="prev" title="322. Coin Change">
                322. Coin Change <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
      
        <div id="gitment-container"></div>
      
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
      <div id="sidebar-dimmer"></div>
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="http://p94fw3huv.bkt.clouddn.com/static/images/yucc.jpg"
                alt="Chen-Chen Yu" />
            
              <p class="site-author-name" itemprop="name">Chen-Chen Yu</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">377</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">3</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">62</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          
        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-4"><a class="nav-link" href="#cpp"><span class="nav-text">cpp</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#python"><span class="nav-text">python</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#java"><span class="nav-text">java</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Chen-Chen Yu</span>

  
</div>

<div>
<span id="showDays"></span>
</div>





<script>
  var seconds = 1000;
  var minutes = seconds * 60;
  var hours = minutes * 60;
  var days = hours * 24;
  var years = days * 365;
  var birthDay = Date.UTC(2018,04,23,12,00,00); // 这里设置建站时间
  setInterval(function() {
    var today = new Date();
    var todayYear = today.getFullYear();
    var todayMonth = today.getMonth()+1;
    var todayDate = today.getDate();
    var todayHour = today.getHours();
    var todayMinute = today.getMinutes();
    var todaySecond = today.getSeconds();
    var now = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond);
    var diff = now - birthDay;
    var diffYears = Math.floor(diff/years);
    var diffDays = Math.floor((diff/days)-diffYears*365);
    var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours);
    var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes);
    var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds);
      document.getElementById('showDays').innerHTML="本站已运行 "+diffYears+" 年 "+diffDays+" 天 "+diffHours+" 小时 "+diffMinutes+" 分钟 ";
  }, 1000);
</script>
        
<div class="busuanzi-count">
  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      本站总访客数
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      人次
    </span>
  

  
    <span class="site-pv">
      本站总访问量
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      次
    </span>
  
</div>








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  







<!-- LOCAL: You can save these files to your site and update links -->
    
        
        <link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">
        <script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script>
    
<!-- END LOCAL -->

    

    
      <script type="text/javascript">
      function renderGitment(){
        var gitment = new Gitment({
            id: window.location.pathname, 
            owner: 'yucc2018',
            repo: 'yucc2018.github.io',
            
            oauth: {
            
            
                client_secret: '704923b823cfe85343062ae2444019597f96be86',
            
                client_id: '174a67d1482f56c9aabb'
            }});
        gitment.render('gitment-container');
      }

      
      renderGitment();
      
      </script>
    







  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  
  


  
  <script type="text/javascript" src="/js/src/js.cookie.js?v=5.1.4"></script>
  <script type="text/javascript" src="/js/src/scroll-cookie.js?v=5.1.4"></script>


  

</body>
</html>
